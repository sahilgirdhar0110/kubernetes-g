Master:


    1  vi /etc/hostname
    2  cat /etc/hostname
    3  free -h
    4  apt-get remove docker docker-engine docker.io containerd runc -y
    5  apt-get remove docker docker-engine docker.io containerd runc
    6  apt-get update -y
    7  apt-get install     apt-transport-https     ca-certificates     curl     gnupg-agent     software-properties-common
    8  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
    9  add-apt-repository    "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
   10  apt-get update -y
   11  apt-get install docker-ce docker-ce-cli containerd.io -y
   12  sudo apt-get update && sudo apt-get install -y apt-transport-https curl
   13  curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
   14  cat <<EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list
deb https://apt.kubernetes.io/ kubernetes-xenial main
EOF

   15  apt-get update -y
   16  apt-get install -y kubelet kubeadm kubectl
   17  apt-mark hold kubelet kubeadm kubectl
   18  ifconfig
   19  if config
   20  ifconfig
   21  ip config
   22  ipconfig
   23  ipa
   24  ipa -
   25  kubeadm init --pod-network-cidr=10.244.0.0/16      (used flannel networking)
   26  kubectl get nodes
   27  kubectl get podes
   28  kubectl get pods
   29  kubectl get pods -A
   30  kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/2140ac876ef134e0ed5af15c65e414cf26827915/Documentation/kube-flannel.yml   (link for flannel: https://v1-16.docs.kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/)
   31  kubectl get pods -A
   32  kubectl get nodes
   
   
   
   
   Worker:
   
   
       1  vi /etc/hostname
    2  cat /etc/hostname
    3  apt-get update -y
    4  apt-get install     apt-transport-https     ca-certificates     curl     gnupg-agent     software-properties-common
    5  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
    6  add-apt-repository    "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
    7  apt-get update -y
    8  apt-get install docker-ce docker-ce-cli containerd.io -y
    9  sudo apt-get update && sudo apt-get install -y apt-transport-https curl
   10  curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
   11  cat <<EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list
deb https://apt.kubernetes.io/ kubernetes-xenial main
EOF

   12  apt-get update -y
   13  apt-mark hold kubelet kubeadm kubectl
   14  kubeadm join 172.31.3.153:6443 --token fjzabh.ashfpz401a9aoshe     --discovery-token-ca-cert-hash sha256:ede7d5b04874c97a86c691b96e6d95c95a254b25ea80409a0dde6bba2abb8998

